<% layout("layouts/boilerplate") %>
<body>
  <!-- <form method="get" action="listing/new">
        <!-- <button>Create New listing</button> -->
  <!-- </form> -->
  <h1>All Listings</h1>

  <% if (allListings.length === 0) { %>
    <p>No listings available.</p>
  <% } else { %>
    <div class="row row-cols-lg-5 row-cols-md-2 row-cols-sm-1">
      <% for (let listing of allListings) { %>
        <a class="listing-link" href="/listing/<%= listing._id %>">
          <div class="cards listing-card">
            <img
              src="<%= listing.image || '/images/default-image.jpg' %>"
              class="card-img-top"
              alt="listing image"
              style="height: 20rem; width: 70rem;"
            />
            <div class="card-body">
              <p class="card-text">
                <b><%= listing.title %></b>
              </p>
              <p>&#8377; <%= (listing.price || 0).toLocaleString("en-IN") %>/Night</p>
            </div>
          </div>
        </a>
      <% } %>
    </div>
  <% } %>
</body>
